<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cartItem">
    <select id="selectAll" resultType="cartItem">
        SELECT * FROM cart_item
    </select>
    <select id="selectListById" parameterType="long" resultType="cartItem">
        SELECT * FROM cart_item WHERE consumer_id=#{_parameter}
    </select>
    <select id="selectByItemId" parameterType="long" resultType="cartItem">
        SELECT * FROM cart_item WHERE item_id=#{_parameter}
    </select>
    <insert id="insert" parameterType="cartItem">
        INSERT INTO cart_item (item_id, item_quantity, consumer_id) VALUES(#{itemId}, #{itemQuantity}, #{consumerId})
    </insert>
    <update id="updateQuantity" parameterType="cartItem">
        UPDATE cart_item SET item_quantity=#{itemQuantity} WHERE item_id=#{itemId}
    </update>
    <update id="updateByItemId" parameterType="Map">
        UPDATE cart_item SET item_quantity=#{itemQuantity} WHERE consumer_id=#{consumerId} and item_id=#{itemId}
    </update>
    <delete id="deleteByItemId" parameterType="Map">
        DELETE FROM cart_item WHERE consumer_id=#{consumerId} AND item_id=#{itemId}
    </delete>
</mapper>